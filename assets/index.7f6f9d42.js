import{j as p,r as a,R as x,T as v,a as T,b as g}from"./vendor.bea6059a.js";const b=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&c(o)}).observe(document,{childList:!0,subtree:!0});function l(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=l(e);fetch(e.href,t)}};b();const r=p.exports.jsx,u=p.exports.jsxs,m=p.exports.Fragment;function h(s){const[i,l]=a.exports.useState(s.edit?s.edit.value:""),c=a.exports.useRef(null);a.exports.useEffect(()=>{c.current.focus()});const e=o=>{l(o.target.value)},t=o=>{o.preventDefault(),s.onSubmit({id:Math.floor(Math.random()*1e4),text:i}),l("")};return r("form",{onSubmit:t,className:"todo-form",children:s.edit?u(m,{children:[r("input",{placeholder:"Update your item",value:i,onChange:e,name:"text",ref:c,className:"todo-input edit"}),r("button",{onClick:t,className:"todo-button edit",children:"Update"})]}):u(m,{children:[r("input",{placeholder:"Add a todo",value:i,onChange:e,name:"text",className:"todo-input",ref:c}),r("button",{onClick:t,className:"todo-button",children:"Add todo"})]})})}const y=({todos:s,completeTodo:i,removeTodo:l,updateTodo:c})=>{const[e,t]=a.exports.useState({id:null,value:""}),o=n=>{c(e.id,n),t({id:null,value:""})};return e.id?r(h,{edit:e,onSubmit:o}):s.map((n,d)=>u("div",{className:n.isComplete?"todo-row complete":"todo-row",children:[r("div",{onClick:()=>i(n.id),children:n.text},n.id),u("div",{className:"icons",children:[r(x,{onClick:()=>l(n.id),className:"delete-icon"}),r(v,{onClick:()=>t({id:n.id,value:n.text}),className:"edit-icon"})]})]},d))};function C(){const[s,i]=a.exports.useState([]);return u(m,{children:[r("h1",{children:"What's the Plan for Today?"}),r(h,{onSubmit:o=>{if(!o.text||/^\s*$/.test(o.text))return;const n=[o,...s];i(n),console.log(...s)}}),r(y,{todos:s,completeTodo:o=>{let n=s.map(d=>(d.id===o&&(d.isComplete=!d.isComplete),d));i(n)},removeTodo:o=>{const n=[...s].filter(d=>d.id!==o);i(n)},updateTodo:(o,n)=>{!n.text||/^\s*$/.test(n.text)||i(d=>d.map(f=>f.id===o?n:f))}})]})}function N(){return r("div",{className:"todo-app",children:r(C,{})})}T.render(r(g.StrictMode,{children:r(N,{})}),document.getElementById("root"));
